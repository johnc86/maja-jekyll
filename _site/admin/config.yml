# config.yml

backend:
  name: git-gateway
  branch: main # Branch to update (optional; defaults to master)
local_backend: true
media_folder: 'assets/uploads'

# Categories
permalink: /:year/:month/:day/:title:output_ext  # required for jekyll-category-pages
# category_path: "jekyll/category" # <- default value
# category_layout: "category_index.html" # <- default value
paginate: 2 # <- turn on pagination with two posts per page

collections:
- name: 'posts'
  label: 'Posts'
  folder: '_posts/'
  create: true
  slug: '{{year}}-{{month}}-{{day}}-{{slug}}'
  editor:
    preview: false
  fields:
    - { 
      label: 'Layout', 
      name: 'layout', 
      widget: 'hidden', 
      default: 'post' 
    }
    - { 
      label: 'Title', 
      name: 'title', 
      widget: 'string' 
    }
    - { 
      label: 
      'Publish Date', 
      name: 'date', 
      widget: 'datetime' 
    }
    - { 
      label: 'Image', 
      name: 'image', 
      widget: 'image', 
      required: false,  
      }
    - {
      label: 'Type',
      name: 'type',
      widget: 'select',
      options: ["writing", "gallery"]
    }
    - {
      label: 'Series',
      name: 'series',
      widget: 'relation',
      collection: 'series',
      display_fields: [series_name],
      search_fields: [series_name],
      value_field: 'series_name',
      required: false
    }
    - { 
      label: 'Body',
      name: 'body', 
      widget: 'markdown', 
      required: false 
    }
- name: 'categories'
  output: true
  label: 'Categories'
  folder: '_categories/'
  create: true
  editor:
    preview: false
  fields:
    - { 
      label: 'Layout', 
      name: 'layout', 
      widget: 'hidden', 
      default: 'default' 
    }
    - { 
      label: 'Category Name', 
      name: 'category_name', 
      widget: 'string' 
    }
    - { 
      label: 'Description', 
      name: 'body', 
      widget: 'markdown', 
      required: false 
    }
- name: 'series'
  output: true
  slug: '{{year}}-{{month}}-{{day}}-{{slug}}'
  label: 'Image Series'
  folder: '_series/'
  create: true
  editor:
    preview: false
  fields:
    - { 
      label: 'Layout', 
      name: 'layout', 
      widget: 'hidden', 
      default: 'series' 
    }
    - { 
      label: 'Series Name', 
      name: 'series_name', 
      widget: 'string' 
    }
    - { 
      label: 'Description', 
      name: 'body', 
      widget: 'markdown', 
      required: false 
    }

- name: 'pages'
  label: 'Pages'
  editor:
    preview: false
  files:
    - label: 'About Page'
      name: 'about'
      file: 'about.md'
      fields:
        - { 
          label: 'Title', 
          name: 'title', 
          widget: 'hidden', 
          default: 'about' 
        }
        - { 
          label: 'Layout', 
          name: 'layout', 
          widget: 'hidden', 
          default: 'about' 
        }
        - { 
          label: 'Body', 
          name: 'body', 
          widget: 'markdown' 
        }
- name: 'config'
  label: 'Config'
  editor:
    preview: false
  files:
    - label: 'Navigation'
      name: 'navigation'
      file: '_data/navigation.yml'
      fields:
        - label: 'Navigation Items'
          name: 'items'
          widget: 'list'
          fields:
            - { 
              label: Name, 
              name: name, 
              widget: string 
            }
            - { 
              label: Link, 
              name: link, 
              widget: string 
            }
    - label: 'Hero Settings'
      name: 'hero'
      file: '_data/hero.yml'
      fields:
        - label: 'Hero Colours'
          name: 'col'
          widget: 'list'
          fields:
            - { 
              label: Name, 
              name: name, 
              widget: string 
            }
            - { 
              label: Color, 
              name: col, 
              widget: color 
            }